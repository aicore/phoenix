<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## features/BeautificationManager

Beautification manager interacts with beautify extensions to determine what to do when user issues `beautify code`
command. Beautification providers can use this module to register new providers to beautify new languages.

## API

### registerBeautificationProvider

Register a Beautification provider with this api.

```js
// syntax
BeautificationManager.registerBeautificationProvider(provider, supportedLanguages, priority);
```

The API requires three parameters:

1.  `provider`: must implement a  `beautify` function which will be invoked to beautify code in editor. See doc below.
2.  `supportedLanguages`: An array of languages that the provider supports. If `["all"]` is supplied, then the
    provider will be invoked for all languages. Restrict to specific languages: Eg: `["javascript", "html", "php"]`
3.  `priority`: Used to break ties among providers for a particular language. Providers with a higher number
    will be asked for beatified code before those with a lower priority value. Defaults to zero.

```js
// to register a provider that will be invoked for all languages. where provider is any object that implements
// a beautify function
BeautificationManager.registerBeautificationProvider(provider, ["all"]);

// to register a provider that will be invoked for specific languages
BeautificationManager.registerBeautificationProvider(provider, ["javascript", "html", "php"]);
```

### removeBeautificationProvider

Removes a registered Beautification provider. The API takes the same arguments as `registerBeautificationProvider`.

```js
// syntax
BeautificationManager.removeBeautificationProvider(provider, supportedLanguages);
// Example
BeautificationManager.removeBeautificationProvider(provider, ["javascript", "html"]);
```

### beautify

Each provider must implement the `beautify` function that returns a promise. The promise either resolves with
the beautified code details or rejects if there is nothing to beautify for the provider.

```js
// function signature
provider.beautify = function(editor) {
        return new Promise((resolve, reject)=>{
            resolve({
                changedText: "partial or full text that changed.",
                // Optional: If range is specified, only the given range will be replaced. else full text is replaced
                ranges:{
                    replaceStart: {line,ch},
                    replaceEnd: {line,ch}
                }
            });
        });
    };
```

#### The resolved promise object

The resolved promise should either be `null`(indicating that the extension itself has prettified the code and
doesn't want any further processing from BeautificationManager.) or contain the following details:

1.  `changedText` - string, this should be the fully prettified text of the whole file or a fragment of pretty text
    if a range was selected.
    *   If a range is returned, then the beautification manger will replace only the range with changed text in editor.
2.  `ranges` - Optional object, set of 2 cursors that gives details on what range to replace with given changed text.
    If range is not specified, the full text in the editor will be replaced. range has 2 fields:
    1.  `replaceStart{line,ch}` - the start of range to replace
    2.  `replaceEnd{line,ch}` - the end of range to replace
